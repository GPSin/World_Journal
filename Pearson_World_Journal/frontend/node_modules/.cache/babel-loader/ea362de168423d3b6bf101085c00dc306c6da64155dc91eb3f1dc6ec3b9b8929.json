{"ast":null,"code":"var _jsxFileName = \"C:\\\\Coding Projects\\\\Pearson_World_Journal\\\\frontend\\\\src\\\\pages\\\\MapPage.tsx\",\n  _s2 = $RefreshSig$();\nimport { MapContainer, TileLayer, Marker, Popup, useMapEvents } from 'react-leaflet';\nimport { useEffect, useState } from 'react';\nimport 'leaflet/dist/leaflet.css';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function MapPage() {\n  _s2();\n  var _s = $RefreshSig$();\n  const [waypoints, setWaypoints] = useState([]);\n  useEffect(() => {\n    axios.get('/api/waypoints').then(res => setWaypoints(res.data));\n  }, []);\n  const AddWaypoint = () => {\n    _s();\n    useMapEvents({\n      click(e) {\n        const {\n          lat,\n          lng\n        } = e.latlng;\n        axios.post('/api/waypoints', {\n          lat,\n          lng\n        }).then(res => {\n          setWaypoints(prev => [...prev, res.data]);\n        });\n      }\n    });\n    return null;\n  };\n  _s(AddWaypoint, \"Ld/tk8Iz8AdZhC1l7acENaOEoCo=\", false, function () {\n    return [useMapEvents];\n  });\n  const center = [20, 0];\n  return /*#__PURE__*/_jsxDEV(MapContainer, {\n    center: center,\n    zoom: 2,\n    style: {\n      height: \"100vh\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n      url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AddWaypoint, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), waypoints.map(wp => /*#__PURE__*/_jsxDEV(Marker, {\n      position: [wp.lat, wp.lng],\n      children: /*#__PURE__*/_jsxDEV(Popup, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [wp.image && /*#__PURE__*/_jsxDEV(\"img\", {\n            src: wp.image,\n            width: \"100\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 28\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: wp.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: `/journal/${wp._id}`,\n            children: \"View Journal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }, this)\n    }, wp._id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n}\n_s2(MapPage, \"9iQLsmPBTa93K3oGnDbf0Cwbt/U=\");\n_c = MapPage;\nvar _c;\n$RefreshReg$(_c, \"MapPage\");","map":{"version":3,"names":["MapContainer","TileLayer","Marker","Popup","useMapEvents","useEffect","useState","axios","jsxDEV","_jsxDEV","MapPage","_s2","_s","$RefreshSig$","waypoints","setWaypoints","get","then","res","data","AddWaypoint","click","e","lat","lng","latlng","post","prev","center","zoom","style","height","children","url","fileName","_jsxFileName","lineNumber","columnNumber","map","wp","position","image","src","width","description","href","_id","_c","$RefreshReg$"],"sources":["C:/Coding Projects/Pearson_World_Journal/frontend/src/pages/MapPage.tsx"],"sourcesContent":["import { MapContainer, TileLayer, Marker, Popup, useMapEvents } from 'react-leaflet';\r\nimport { useEffect, useState } from 'react';\r\nimport 'leaflet/dist/leaflet.css';\r\nimport axios from 'axios';\r\nimport L, { LatLngExpression, LeafletMouseEvent } from 'leaflet';\r\n\r\ninterface Waypoint {\r\n  _id: string;\r\n  lat: number;\r\n  lng: number;\r\n  image?: string;\r\n  description?: string;\r\n}\r\n\r\nexport default function MapPage() {\r\n  const [waypoints, setWaypoints] = useState<Waypoint[]>([]);\r\n\r\n  useEffect(() => {\r\n    axios.get('/api/waypoints').then(res => setWaypoints(res.data));\r\n  }, []);\r\n\r\n  const AddWaypoint = () => {\r\n    useMapEvents({\r\n      click(e: LeafletMouseEvent) {\r\n        const { lat, lng } = e.latlng;\r\n        axios.post('/api/waypoints', { lat, lng }).then(res => {\r\n          setWaypoints(prev => [...prev, res.data]);\r\n        });\r\n      }\r\n    });\r\n    return null;\r\n  };\r\n\r\n  const center: LatLngExpression = [20, 0];\r\n\r\n  return (\r\n    <MapContainer center={center} zoom={2} style={{ height: \"100vh\" }}>\r\n      <TileLayer url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\" />\r\n      <AddWaypoint />\r\n      {waypoints.map(wp => (\r\n        <Marker key={wp._id} position={[wp.lat, wp.lng]}>\r\n          <Popup>\r\n            <div>\r\n              {wp.image && <img src={wp.image} width=\"100\" />}\r\n              <p>{wp.description}</p>\r\n              <a href={`/journal/${wp._id}`}>View Journal</a>\r\n            </div>\r\n          </Popup>\r\n        </Marker>\r\n      ))}\r\n    </MapContainer>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}