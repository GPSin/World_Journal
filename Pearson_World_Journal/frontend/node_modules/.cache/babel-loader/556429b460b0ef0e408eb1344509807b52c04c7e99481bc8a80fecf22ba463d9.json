{"ast":null,"code":"var _jsxFileName = \"C:\\\\Coding Projects\\\\Pearson_World_Journal\\\\frontend\\\\src\\\\pages\\\\MapPage.tsx\",\n  _s2 = $RefreshSig$();\nimport { MapContainer, TileLayer, Marker, Popup, useMapEvents } from 'react-leaflet';\nimport { useEffect, useState } from 'react';\nimport 'leaflet/dist/leaflet.css';\nimport axios from 'axios';\nimport { Tooltip } from 'react-leaflet';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function MapPage() {\n  _s2();\n  var _s = $RefreshSig$();\n  const [waypoints, setWaypoints] = useState([]);\n  useEffect(() => {\n    axios.get('/api/waypoints').then(res => setWaypoints(res.data));\n  }, []);\n  const AddWaypoint = () => {\n    _s();\n    useMapEvents({\n      click(e) {\n        const {\n          lat,\n          lng\n        } = e.latlng;\n        axios.post('/api/waypoints', {\n          lat,\n          lng\n        }).then(res => {\n          setWaypoints(prev => [...prev, res.data]);\n        });\n      }\n    });\n    return null;\n  };\n  _s(AddWaypoint, \"Ld/tk8Iz8AdZhC1l7acENaOEoCo=\", false, function () {\n    return [useMapEvents];\n  });\n  const center = [20, 0];\n  return /*#__PURE__*/_jsxDEV(MapContainer, {\n    center: center,\n    zoom: 2,\n    style: {\n      height: \"100vh\"\n    },\n    worldCopyJump: false,\n    maxBounds: [[-90, -180], [90, 180]],\n    maxBoundsViscosity: 1.0,\n    children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n      url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AddWaypoint, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), waypoints.map(wp => /*#__PURE__*/_jsxDEV(Marker, {\n      position: [wp.lat, wp.lng],\n      eventHandlers: {\n        contextmenu: () => {\n          // eslint-disable-next-line no-restricted-globals\n          if (confirm('Delete this waypoint?')) {\n            axios.delete(`/api/waypoints/${wp._id}`).then(() => {\n              setWaypoints(prev => prev.filter(p => p._id !== wp._id));\n            });\n          }\n        }\n      },\n      children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n        children: wp.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Popup, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [wp.image && /*#__PURE__*/_jsxDEV(\"img\", {\n            src: wp.image,\n            width: \"100\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 34\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: wp.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: `/journal/${wp._id}`,\n            children: \"View Journal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }, this)]\n    }, wp._id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n_s2(MapPage, \"9iQLsmPBTa93K3oGnDbf0Cwbt/U=\");\n_c = MapPage;\nvar _c;\n$RefreshReg$(_c, \"MapPage\");","map":{"version":3,"names":["MapContainer","TileLayer","Marker","Popup","useMapEvents","useEffect","useState","axios","Tooltip","jsxDEV","_jsxDEV","MapPage","_s2","_s","$RefreshSig$","waypoints","setWaypoints","get","then","res","data","AddWaypoint","click","e","lat","lng","latlng","post","prev","center","zoom","style","height","worldCopyJump","maxBounds","maxBoundsViscosity","children","url","fileName","_jsxFileName","lineNumber","columnNumber","map","wp","position","eventHandlers","contextmenu","confirm","delete","_id","filter","p","description","image","src","width","href","_c","$RefreshReg$"],"sources":["C:/Coding Projects/Pearson_World_Journal/frontend/src/pages/MapPage.tsx"],"sourcesContent":["import { MapContainer, TileLayer, Marker, Popup, useMapEvents } from 'react-leaflet';\r\nimport { useEffect, useState } from 'react';\r\nimport 'leaflet/dist/leaflet.css';\r\nimport axios from 'axios';\r\nimport L, { LatLngExpression, LeafletMouseEvent } from 'leaflet';\r\nimport { Tooltip } from 'react-leaflet';\r\n\r\ninterface Waypoint {\r\n  _id: string;\r\n  lat: number;\r\n  lng: number;\r\n  image?: string;\r\n  description?: string;\r\n  journalText?: string;\r\n  images?: string[];\r\n}\r\n\r\nexport default function MapPage() {\r\n  const [waypoints, setWaypoints] = useState<Waypoint[]>([]);\r\n\r\n  useEffect(() => {\r\n    axios.get('/api/waypoints').then(res => setWaypoints(res.data));\r\n  }, []);\r\n\r\n  const AddWaypoint = () => {\r\n    useMapEvents({\r\n      click(e: LeafletMouseEvent) {\r\n        const { lat, lng } = e.latlng;\r\n        axios.post('/api/waypoints', { lat, lng }).then(res => {\r\n          setWaypoints(prev => [...prev, res.data]);\r\n        });\r\n      }\r\n    });\r\n    return null;\r\n  };\r\n\r\n  const center: LatLngExpression = [20, 0];\r\n\r\n  return (\r\n    <MapContainer\r\n        center={center}\r\n        zoom={2}\r\n        style={{ height: \"100vh\" }}\r\n        worldCopyJump={false}\r\n        maxBounds={[[-90, -180], [90, 180]]}\r\n        maxBoundsViscosity={1.0}\r\n    >\r\n      <TileLayer url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\" />\r\n      <AddWaypoint />\r\n      {waypoints.map(wp => (\r\n        <Marker\r\n            key={wp._id}\r\n            position={[wp.lat, wp.lng]}\r\n            eventHandlers={{\r\n            contextmenu: () => {\r\n                // eslint-disable-next-line no-restricted-globals\r\n                if (confirm('Delete this waypoint?')) {\r\n                axios.delete(`/api/waypoints/${wp._id}`).then(() => {\r\n                    setWaypoints(prev => prev.filter(p => p._id !== wp._id));\r\n                });\r\n                }\r\n            }\r\n            }}\r\n        >\r\n            <Tooltip>{wp.description}</Tooltip>\r\n            <Popup>\r\n                <div>\r\n                    {wp.image && <img src={wp.image} width=\"100\" />}\r\n                    <p>{wp.description}</p>\r\n                    <a href={`/journal/${wp._id}`}>View Journal</a>\r\n                </div>\r\n            </Popup>\r\n        </Marker>\r\n      ))}\r\n    </MapContainer>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}